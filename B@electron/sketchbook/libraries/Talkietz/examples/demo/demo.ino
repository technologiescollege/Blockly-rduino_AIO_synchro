// Inspired by Talkie library
// Copyright 2011 Peter Knight
// This code is released under GPLv2 license.
// Jean-Luc Deladrière
// last modified by Technozone51 ( Grosse Christophe )

#include "talkietz.h"

// Define various ADC prescaler
const unsigned char PS_16 = (1 << ADPS2);
const unsigned char PS_32 = (1 << ADPS2) | (1 << ADPS0);
const unsigned char PS_64 = (1 << ADPS2) | (1 << ADPS1);
const unsigned char PS_128 = (1 << ADPS2) | (1 << ADPS1) | (1 << ADPS0);


Talkie voice;

//Coller ci-dessous les définitions des chaines LPC des mots à prononcer

//attention
const uint8_t spW010458 [] PROGMEM ={0xA7,0x2C,0xAE,0xBA,0xD4,0x27,0x9F,0x32,0xD7,0x4A,0xB3,0x8E,0x7C,0x8A,0x66,0xA2,0x82,0x2B,0xD1,0xC9,0xBB,0x95,0x34,0x8F,0xD8,0x27,0x6B,0x5A,0x5C,0xDD,0x66,0x9B,0x2A,0x63,0xB1,0x48,0x4B,0x0C,0x0E,0x18,0xDC,0xF4,0x44,0x93,0x9B,0xB9,0x86,0x95,0x13,0x27,0xDE,0x2D,0xA2,0x9D,0x4F,0x9C,0xE8,0x34,0x0B,0x77,0x3E,0x71,0x26,0x5E,0x95,0xD0,0x66,0x25,0x91,0x66,0xA6,0x69,0xE2,0x95,0x0E,0xA8,0xC9,0x22,0x69,0x4E,0xFE,0x9D,0x96,0x92,0xC8,0x59,0xC1,0x6F,0x99,0x13,0x1A,0x79,0x35,0xFF,0x4C,0x4C,0x49,0x92,0xD5,0xFC,0xB7,0x3D,0xE5,0x66,0x56,0xF4,0xC7,0x4D,0x67,0x9A,0x5D,0xD1,0x5F,0x77,0x55,0x61,0x26,0x01,0x77,0x8C,0x25,0x60,0xCF,0xD6,0xD3,0x8E,0x24,0x42,0x1E,0x4D,0xCE,0x58,0x2C,0x4B,0x4C,0xB6,0x3A,0x73,0x32,0x6A,0x96,0xB6,0x78,0xAD,0xD1,0x59,0xB2,0xC6,0x9C,0xB1,0x07,0x6E,0x13,0x22,0x49,0xDB,0x11,0x48,0x4D,0x18,0xDB,0x29,0x57,0x20,0x35,0xE6,0x62,0xBB,0xDC,0x81,0x45,0x7B,0x68,0xE4,0x07};
//danger
const uint8_t spW035131 [] PROGMEM ={0x00,0x00,0xA7,0x1C,0xCC,0xC3,0xD5,0xB2,0x9E,0x32,0x9B,0x49,0x52,0x5F,0x7D,0xAA,0x18,0x36,0xC8,0xBD,0xC9,0x29,0x93,0xE8,0x62,0xB5,0x24,0xA7,0x8A,0x2C,0x32,0xD8,0xE2,0x9D,0x3A,0xC9,0x34,0x53,0x4B,0x7F,0x9A,0xA1,0x5C,0x44,0xCA,0xD9,0x19,0x66,0x38,0x23,0x51,0xA9,0x67,0xB9,0x71,0x46,0x94,0x24,0x9F,0x71,0xB9,0x2D,0x65,0xA6,0x73,0xE6,0xED,0xDB,0x50,0x34,0xED,0x59,0xA6,0x72,0xC1,0x88,0x25,0x67,0xE9,0xCC,0x44,0xAA,0x1B,0x9D,0xAD,0x0B,0x15,0xAD,0x69,0x74,0xF6,0x2E,0x94,0xBD,0xA7,0xD6,0x39,0xBA,0x54,0xD2,0xE9,0x5A,0x00,0x0F};


void setup()
{

	Serial.begin(9600);
	// set up the ADC
	ADCSRA &= ~PS_128;  // remove bits set by Arduino library
	// you can choose a prescaler from above.
	// PS_16, PS_32, PS_64 or PS_128
	ADCSRA |= PS_32;    //  ## was 16 but give problem with getmode unstable 32 seems ok
        //Réglage des paramêtres de restitution vocale
        voice.SetSpeed(800); //entre 0 et 1023 . augmenter la valeur pour augmenter la vitesse. Valeur normal=800
        voice.SetPitch(700); //entre 0 et 1023 : Pitch normal=700. Augmenter pour rendre la voix plus aigue
        //voice.SetBending(120);//entre 0 et 1023 : 0=pas de distortion ;   512=ion maximale ;  1023=pas de distortion
        //voice.BendingOn();
        voice.BendingOff(); //Pas de distortion du son
}

void loop()
{
  //Coller ci-dessous les appels à la procedure Say pour prononcer les mots
  voice.say(spW010458);
  voice.say(spW035131);
  delay(5000);			       
}